<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Options for GitHub-Clone</title>
	<link rel="stylesheet" media="all" type="text/css" href="options.css" />
</head>
<body>
	<div class="head">
		<span style="float: right;">
			<a href="https://github.com/cpojer/github-clone">Fork on GitHub</a>
		</span>

		<b>GitHub-Clone by @cpojer.</b> Follow me on <a href="http://github.com/cpojer">GitHub</a> <a href="http://twitter.com/cpojer">Twitter</a>
	</div>
	<div class="content">
		<div>
			<label>Set folder for GitHub repositories</label>
			<input type="text" id="folderInput" placeholder="~/Desktop/" name="folder" />
			<div id="success">settings saved</div>
		</div>
	</div>
	<script type="text/javascript">
	(function(){
	var ƒ = document.querySelector.bind(document);

	var key = 'folder',
		element = ƒ('#folderInput'),
		success = ƒ('#success'),
		folder = localStorage.getItem(key);

	success.addEventListener('webkitTransitionEnd', function(){
		success.classList.remove('success');
	}, false);
	
	element.value = folder;
	element.addEventListener('input', function(){
		localStorage.setItem(key, this.value);
	}, false);
	element.addEventListener('blur', function(){
		if (this.value == folder) return;
		folder = element.value;
		success.classList.add('success');
	}, false);
	
	})();
	</script>
</body>
</html>
